"""Test for SPICE model of NetTie - demonstrates zero resistance connection."""

load("../../interfaces.zen", "Ground", "Power")

NetTie = Module("../../generics/NetTie.zen")
Resistor = Module("../../generics/Resistor.zen")

VCC = Power()
NET1 = Net("NET1")
NET2 = Net("NET2")
PROBE = Net("PROBE")
GND = Ground()

# Create a 2-pin net tie connecting two nets
NetTie(
    name="NT1",
    variant="2_SMD_0.5mm",
    P1=NET1,
    P2=NET2,
)

# Add resistors to demonstrate the net tie connection
Resistor(
    name="R1",
    value="1kOhm",
    package="0603",
    P1=VCC,
    P2=NET1,
)

Resistor(
    name="R2",
    value="1kOhm",
    package="0603",
    P1=NET2,
    P2=PROBE,
)

Resistor(
    name="R3",
    value="1kOhm",
    package="0603",
    P1=PROBE,
    P2=GND,
)

# pcb:sch NT1.NT x=456.2000 y=-166.1000 rot=0
# pcb:sch R1.R x=369.8400 y=-128.0000 rot=0
# pcb:sch R2.R x=547.6400 y=-128.0000 rot=0
# pcb:sch R3.R x=712.7400 y=-128.0000 rot=0
# pcb:sch GND.1 x=710.2000 y=-1.0000 rot=0
# pcb:sch VCC.1 x=283.4800 y=-216.9000 rot=0
