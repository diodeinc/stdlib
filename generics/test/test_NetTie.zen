"""Comprehensive test for NetTie component."""

load("../../properties.zen", "Layout")

NetTie = Module("../NetTie.zen")

# Test combinations of MountType, PadSize, and pin_count
for mount_type in NetTie.MountType.values():
    for pad_size in NetTie.PadSize.values():
        for pin_count in [2, 3, 4]:
            name = "NT_" + str(mount_type) + "_" + str(pad_size) + "_" + str(pin_count) + "pin"

            # Create the appropriate number of nets based on pin_count
            nets = {}
            for i in range(1, pin_count + 1):
                nets["P{}".format(i)] = Net(name + "_P{}".format(i))

            NetTie(
                name = name,
                mount_type = mount_type,
                pad_size = pad_size,
                pin_count = pin_count,
                **nets
            )

Layout(
    name = "preview",
    path = "build/NetTie",
)
